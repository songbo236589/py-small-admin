# ===================================================================
# MySQL 自定义配置文件
# ===================================================================
# 说明: 此文件用于 Docker 容器中的 MySQL 服务
# ===================================================================

[mysqld]
# ========================================
# 字符集配置
# ========================================
character-set-server=utf8mb4
collation-server=utf8mb4_unicode_ci
init-connect='SET NAMES utf8mb4'

# ========================================
# 连接配置
# ========================================
max_connections=200
max_connect_errors=1000

# ========================================
# 缓存配置
# ========================================
innodb_buffer_pool_size=256M
query_cache_size=32M
query_cache_type=1

# ========================================
# 日志配置
# ========================================
slow_query_log=1
long_query_time=2
log_error=/var/log/mysql/error.log

# ========================================
# 时区配置
# ========================================
default-time-zone='+08:00'

# ========================================
# 其他配置
# ========================================
sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION

[client]
default-character-set=utf8mb4
