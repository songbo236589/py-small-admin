# å¿«é€Ÿå¼€å§‹

æ¬¢è¿ä½¿ç”¨ Py Small Admin åç«¯ç³»ç»Ÿï¼æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å¿«é€Ÿæ­å»ºå¼€å‘ç¯å¢ƒå¹¶å¯åŠ¨é¡¹ç›®ã€‚

## æ¦‚è¿°

Py Small Admin æ˜¯ä¸€ä¸ªåŸºäº FastAPI çš„è½»é‡çº§åå°ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨ç°ä»£åŒ–çš„åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œæä¾›äº†å®Œæ•´çš„ç”¨æˆ·ç®¡ç†ã€æƒé™æ§åˆ¶ã€æ•°æ®ç®¡ç†ç­‰åŠŸèƒ½ã€‚

## å‰ç½®è¦æ±‚

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„ç³»ç»Ÿå·²å®‰è£…ä»¥ä¸‹è½¯ä»¶ï¼š

- **Python**: 3.9 æˆ–æ›´é«˜ç‰ˆæœ¬
- **MySQL**: 5.7 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Redis**: 6.0 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆå¯é€‰ï¼Œç”¨äºç¼“å­˜å’Œé˜Ÿåˆ—ï¼‰
- **RabbitMQ**: 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆå¯é€‰ï¼Œç”¨äº Celery ä»»åŠ¡é˜Ÿåˆ—ï¼‰
- **Git**: ç”¨äºå…‹éš†ä»£ç ä»“åº“

## å®‰è£…æ­¥éª¤

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/songbo236589/py-small-admin.git
cd py-small-admin
```

### 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

```bash
# è¿›å…¥ server ç›®å½•
cd server

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows:
venv\Scripts\activate

# Linux/Mac:
source venv/bin/activate
```

### 3. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 4. é…ç½®ç¯å¢ƒå˜é‡

```bash
# å¤åˆ¶ç¯å¢ƒé…ç½®æ–‡ä»¶
cp .env.example .env

# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œä¿®æ”¹å¿…è¦çš„é…ç½®
# ä¸»è¦é…ç½®é¡¹ï¼š
# - æ•°æ®åº“è¿æ¥ä¿¡æ¯
# - Redis è¿æ¥ä¿¡æ¯
# - JWT å¯†é’¥
# - ç®¡ç†å‘˜è´¦å·å¯†ç 
```

:::tip æç¤º
ç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨ `.env.production.example` åˆ›å»ºé…ç½®æ–‡ä»¶ï¼š

```bash
cp .env.production.example .env.production
```

:::

### 5. åˆå§‹åŒ–æ•°æ®åº“

```bash
# è¿è¡Œæ•°æ®åº“è¿ç§»
python -m commands.migrate

# å¡«å……åˆå§‹æ•°æ®
python -m commands.seed
```

### 6. å¯åŠ¨é¡¹ç›®

```bash
# å¼€å‘æ¨¡å¼å¯åŠ¨
python run.py

# æˆ–ä½¿ç”¨ uvicorn
uvicorn Modules.main:app --reload --host 0.0.0.0 --port 8000
```

## éªŒè¯å®‰è£…

### 1. è®¿é—® API æ–‡æ¡£

å¯åŠ¨æˆåŠŸåï¼Œè®¿é—®ä»¥ä¸‹åœ°å€ï¼š

- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc
- **OpenAPI JSON**: http://localhost:8000/openapi.json

### 2. æµ‹è¯•ç³»ç»Ÿä¿¡æ¯æ¥å£

```bash
curl http://localhost:8000/
```

é¢„æœŸè¿”å›ï¼š

```json
{
  "code": 200,
  "message": "é¡¹ç›®ä»‹ç»",
  "data": {
    "name": "Py Small Admin",
    "description": "åŸºäº Python çš„è½»é‡çº§åå°ç®¡ç†ç³»ç»Ÿ"
  }
}
```

### 3. ç™»å½•æµ‹è¯•

ä½¿ç”¨é»˜è®¤ç®¡ç†å‘˜è´¦å·ç™»å½•ï¼š

```bash
curl -X POST "http://localhost:8000/api/admin/login" \
  -H "Content-Type: application/json" \
  -d '{
    "username": "admin",
    "password": "123456"
  }'
```

:::warning è­¦å‘Š
ç”Ÿäº§ç¯å¢ƒåŠ¡å¿…ä¿®æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç ï¼
:::

## Docker å¿«é€Ÿå¯åŠ¨

å¦‚æœæ‚¨ä½¿ç”¨ Dockerï¼Œå¯ä»¥ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼š

```bash
# è¿›å…¥ docker ç›®å½•
cd docker

# å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f server

# åœæ­¢æœåŠ¡
docker-compose down
```

## é¡¹ç›®ç»“æ„

```
server/
â”œâ”€â”€ Modules/              # æ¨¡å—ç›®å½•
â”‚   â”œâ”€â”€ admin/           # ç®¡ç†å‘˜æ¨¡å—
â”‚   â”œâ”€â”€ quant/           # é‡åŒ–æ•°æ®æ¨¡å—
â”‚   â””â”€â”€ common/          # å…¬å…±æ¨¡å—
â”œâ”€â”€ config/              # é…ç½®æ–‡ä»¶
â”œâ”€â”€ commands/            # å‘½ä»¤å·¥å…·
â”œâ”€â”€ docs/                # æ–‡æ¡£
â”œâ”€â”€ docker/              # Docker é…ç½®
â”œâ”€â”€ logs/                # æ—¥å¿—ç›®å½•
â”œâ”€â”€ uploads/             # ä¸Šä¼ æ–‡ä»¶ç›®å½•
â”œâ”€â”€ run.py              # å¯åŠ¨æ–‡ä»¶
â”œâ”€â”€ requirements.txt     # ä¾èµ–åˆ—è¡¨
â””â”€â”€ .env                # ç¯å¢ƒé…ç½®
```

è¯¦ç»†çš„ç›®å½•ç»“æ„è¯´æ˜è¯·å‚è€ƒ [é¡¹ç›®ç»“æ„è¯´æ˜](./project-structure.md)ã€‚

## ä¸‹ä¸€æ­¥

- ğŸ“– é˜…è¯» [é¡¹ç›®ç»“æ„è¯´æ˜](./project-structure.md) äº†è§£é¡¹ç›®æ¶æ„
- ğŸ—ï¸ æŸ¥çœ‹ [æ¶æ„æ¦‚è§ˆ](../guides/architecture-overview.md) äº†è§£ç³»ç»Ÿè®¾è®¡
- ğŸ’» å­¦ä¹  [ç¬¬ä¸€ä¸ªæ¥å£å¼€å‘](./first-api.md) å¼€å§‹å¼€å‘
- ğŸ”§ å‚è€ƒ [å¼€å‘ç¯å¢ƒæ­å»º](./development-setup.md) å®Œå–„å¼€å‘ç¯å¢ƒ

## å¸¸è§é—®é¢˜

### 1. æ•°æ®åº“è¿æ¥å¤±è´¥

**é—®é¢˜**ï¼šå¯åŠ¨æ—¶æç¤ºæ•°æ®åº“è¿æ¥å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š

- æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®
- ç¡®è®¤ MySQL æœåŠ¡å·²å¯åŠ¨
- æ£€æŸ¥æ•°æ®åº“ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®
- ç¡®è®¤æ•°æ®åº“å·²åˆ›å»º

### 2. Redis è¿æ¥å¤±è´¥

**é—®é¢˜**ï¼šæç¤º Redis è¿æ¥å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š

- æ£€æŸ¥ Redis æœåŠ¡æ˜¯å¦å¯åŠ¨
- ç¡®è®¤ `.env` æ–‡ä»¶ä¸­çš„ Redis é…ç½®æ­£ç¡®
- å¦‚æœä¸éœ€è¦ Redisï¼Œå¯ä»¥åœ¨é…ç½®ä¸­ç¦ç”¨

### 3. ç«¯å£è¢«å ç”¨

**é—®é¢˜**ï¼šå¯åŠ¨æ—¶æç¤ºç«¯å£ 8000 è¢«å ç”¨

**è§£å†³æ–¹æ¡ˆ**ï¼š

- ä¿®æ”¹ `.env` æ–‡ä»¶ä¸­çš„ `APP_PORT` é…ç½®
- æˆ–åœæ­¢å ç”¨ç«¯å£çš„å…¶ä»–æœåŠ¡

### 4. ä¾èµ–å®‰è£…å¤±è´¥

**é—®é¢˜**ï¼š`pip install` æ—¶å‡ºç°é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š

- å‡çº§ pipï¼š`python -m pip install --upgrade pip`
- ä½¿ç”¨å›½å†…é•œåƒæºï¼š`pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple`
- æ£€æŸ¥ Python ç‰ˆæœ¬æ˜¯å¦ç¬¦åˆè¦æ±‚

## ç›¸å…³é“¾æ¥

- [é¡¹ç›®ç»“æ„è¯´æ˜](./project-structure.md)
- [å¼€å‘ç¯å¢ƒæ­å»º](./development-setup.md)
- [æ¶æ„æ¦‚è§ˆ](../guides/architecture-overview.md)
- [ç¯å¢ƒé…ç½®è¯´æ˜](../../server/docs/ç¯å¢ƒé…ç½®è¯´æ˜.md)
- [Pythonç¯å¢ƒé…ç½®å®Œæ•´æŒ‡å—](../../server/docs/Pythonç¯å¢ƒé…ç½®å®Œæ•´æŒ‡å—.md)

## æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š

1. æŸ¥çœ‹æœ¬æ–‡æ¡£çš„å¸¸è§é—®é¢˜éƒ¨åˆ†
2. æŸ¥çœ‹ [æ•…éšœæ’æŸ¥](./deployment/troubleshooting.md) æ–‡æ¡£
3. æäº¤ [GitHub Issue](https://github.com/songbo236589/py-small-admin/issues)

---

ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼ğŸ‰
