# 业务问题

本文档解答 Py Small Admin 的业务相关常见问题。

## 目录

- [功能模块](#功能模块)
- [权限管理](#权限管理)
- [数据管理](#数据管理)
- [常见问题](#常见问题)

## 功能模块

### Admin 模块包含哪些功能？

Admin 模块是后台管理系统的核心模块，包含以下功能：

| 功能 | 说明 |
|------|------|
| 管理员管理 | 创建、编辑、删除管理员账号 |
| 角色管理 | 配置角色组和权限 |
| 菜单管理 | 管理系统菜单树 |
| 系统配置 | 配置系统参数和邮件服务 |
| 文件上传 | 管理上传的文件 |

### Quant 模块包含哪些功能？

Quant 模块是量化数据管理模块，包含以下功能：

| 功能 | 说明 |
|------|------|
| 股票管理 | 查看和同步股票数据 |
| 行业管理 | 查看和同步行业数据 |
| 概念管理 | 查看和同步概念数据 |
| 历史记录 | 查看行业和概念的历史变化 |

## 权限管理

### 如何配置角色权限？

1. 进入 **角色管理** 页面（`/admin/auth/group`）
2. 找到需要配置的角色
3. 点击 **权限配置** 按钮
4. 勾选该角色可以访问的菜单权限
5. 点击 **保存** 提交

### 如何创建新的角色？

1. 进入 **角色管理** 页面
2. 点击 **添加** 按钮
3. 填写角色名称和描述
4. 配置角色权限
5. 点击 **确定** 创建

### 超级管理员有什么特殊权限？

ID 为 1 的超级管理员拥有以下特殊权限：
- 无法被删除
- 无法被禁用
- 无法修改其角色组
- 拥有所有菜单权限

## 数据管理

### 如何批量删除数据？

1. 在列表页勾选需要删除的数据
2. 点击 **批量删除** 按钮
3. 确认删除操作

### 如何导出数据？

部分列表页面支持导出功能：
1. 进入相应的列表页面
2. 点击 **导出** 按钮
3. 选择导出格式（Excel、CSV）
4. 下载文件

### 如何同步量化数据？

**同步股票列表**：
1. 进入 **股票管理** 页面
2. 点击 **同步股票列表** 按钮
3. 等待同步完成

**同步行业列表**：
1. 进入 **行业管理** 页面
2. 点击 **同步行业列表** 按钮
3. 等待同步完成

**同步概念列表**：
1. 进入 **概念管理** 页面
2. 点击 **同步概念列表** 按钮
3. 等待同步完成

## 常见问题

### Q: 忘记管理员密码怎么办？

**A**: 可以通过以下方式重置密码：

1. **使用重置密码功能**：
   - 登录系统后，进入管理员管理
   - 找到需要重置的管理员
   - 点击 **重置密码** 按钮
   - 系统会将密码重置为默认密码（在响应消息中显示）

2. **直接修改数据库**（仅限紧急情况）：
   ```sql
   UPDATE fa_admin_admins
   SET password = '$2b$12$...' -- 使用 bcrypt 生成的新密码哈希
   WHERE username = 'admin';
   ```

### Q: 如何修改默认管理员密码？

**A**: 首次登录后立即修改密码：

1. 使用默认账号登录（admin/admin123）
2. 进入 **个人中心** 或 **管理员管理**
3. 找到自己的账号，点击 **编辑**
4. 输入新密码
5. 点击 **确定** 保存

### Q: 为什么无法访问某些菜单？

**A**: 可能的原因：

1. **权限不足**：联系管理员分配相应的菜单权限
2. **账号被禁用**：联系管理员启用账号
3. **菜单未配置**：需要在菜单管理中配置该菜单

### Q: 如何配置邮件服务？

**A**:

1. 进入 **系统配置** 页面
2. 切换到 **邮件配置** 标签
3. 填写 SMTP 服务器信息：
   - SMTP 服务器地址
   - SMTP 端口
   - 发件人邮箱
   - 邮箱密码/授权码
   - 是否使用 TLS
4. 点击 **测试邮件** 验证配置
5. 点击 **保存** 提交配置

### Q: 文件上传失败怎么办？

**A**: 检查以下事项：

1. **文件大小**：确保文件大小不超过限制（默认 10MB）
2. **文件类型**：确保上传的文件类型被允许
3. **存储空间**：确保服务器有足够的存储空间
4. **权限**：确保上传目录有写入权限

### Q: 如何备份数据？

**A**: 有以下几种备份方式：

1. **数据库备份**：
   ```bash
   mysqldump -u root -p py_small_admin > backup.sql
   ```

2. **文件备份**：
   ```bash
   tar -czf uploads_backup.tar.gz server/uploads/
   ```

3. **自动备份脚本**：参见 [部署文档](../../deploy/)

### Q: 如何查看系统日志？

**A**:

1. **后端日志**：`server/logs/app.log`
2. **前端日志**：浏览器控制台
3. **Nginx 日志**：`/var/log/nginx/access.log` 和 `/var/log/nginx/error.log`

### Q: 同步量化数据需要多久？

**A**: 取决于数据量和网络速度：

- 股票列表：约 1-5 分钟
- 行业列表：约 1-2 分钟
- 概念列表：约 1-3 分钟

### Q: 如何获取 API 文档？

**A**: 访问以下地址查看 API 文档：

- Swagger UI：`http://your-domain/docs`
- ReDoc：`http://your-domain/redoc`

## 更多帮助

如果以上文档无法解决您的问题，请：

1. 查看 [部署文档](../../deploy/) 获取部署相关信息
2. 查看 [API 文档](../../api/) 了解接口详情
3. 在 [GitHub Issues](https://github.com/songbo236589/py-small-admin/issues) 提交问题
